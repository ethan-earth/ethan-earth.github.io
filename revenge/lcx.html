<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用户登录</title>
	<style>
		input {
			border-color: grey;
			font-family: "微软雅黑";
			border-radius: 15px;
			font-size: 20px;
			width: 400px;
			text-align: center;
		}
	</style>
	<script>
		document.onkeydown = function () {
			if (event.ctrlKey) {
				return false;
			}
			if (event.altKey) {
				return false;
			}
			if (event.shiftKey) {
				return false;
			}
		}
		document.onkeydown = function (event) {
			if (event.ctrlKey && window.event.keyCode == 65) {
				return false;
			}
			if (event.ctrlKey && window.event.keyCode == 67) {
				return false;
			}
			if (event.ctrlKey && window.event.keyCode == 83) {
				return false;
			}
			if (event.ctrlKey && window.event.keyCode == 86) {
				return false;
			}
			if (event.ctrlKey && window.event.keyCode == 85) {
				return false;
			}
			if (window.event.keyCode == 123) {
				return false;
			}
		}
		function loadOtherPage() {
			// 清空body的内容  
			document.body.innerHTML = '';

			// 创建一个新的iframe元素并设置其src属性为other.html  
			var iframe = document.createElement('iframe');
			iframe.src = 'lcx.html';
			iframe.style.width = '100%';
			iframe.style.height = '100vh';
			iframe.style.border = 'none';

			// 将iframe添加到body中  
			document.body.appendChild(iframe);
		}
		function loadErrorPage() {
			// 清空body的内容  
			document.body.innerHTML = '';

			// 创建一个新的iframe元素并设置其src属性为other.html  
			var iframe = document.createElement('iframe');
			iframe.src = 'error.html';
			iframe.style.width = '100%';
			iframe.style.height = '100vh';
			iframe.style.border = 'none';

			// 将iframe添加到body中  
			document.body.appendChild(iframe);
		} 
	</script>
</head>

<body oncontextmenu=self.event.returnValue=false onselectstart="return false">
	<div>
		<h1>
			<center>用户登录</center>
		</h1>
		<h2>
			<center>用户名&emsp;<input type="text" id="username"></center>
		</h2>
		<center>
			<h2>密码&emsp;<input type="password" placeholder="" id="passwd"></h2>
		</center>
		<center><input type="button" value="登录" onclick="login()"></center>
		<br>
		<center><input type="button" id="btnClear" value="清除" onclick="doClear()" /></center>
	</div>
	<script type="text/javascript">
		let accountAll = [{ // 存储账户json数据的数组
			username: 'zjc130722',
			passwd: 'zjc130722261003abcd'
		},{
			username: 'xcyadmin',
			passwd: 'xcyadminabcd12356'
		}
		]
		function login() { //登陆判断
			let username = document.getElementById('username').value;
			let passwd = document.getElementById('passwd').value;
			let account = accountAll.filter(function (e) {
				return e.username == username
			})[0]; // 筛选账号返回数组，不存在则返回空数组
			if (!account) {
				loadErrorPage();
			} else {
				if (account.username == username && account.passwd == passwd) {
					loadOtherPage();
				} else {
					loadErrorPage();
				}
			}
		}
		function doClear() { //获取页面所有的input框，是text和password框，内容=空串
			let inputs = document.getElementsByTagName("input");
			for (let i = 0; i < inputs.length; i++) {
				if (inputs[i].type == 'text' || inputs[i].type == 'password') {
					inputs[i].value = '';
				}
			}
		}
		//给清除按钮增加onclick事件
		let btnClear = document.getElementById('btnClear');
		btnClear.addEventListener('click', function () {
			doClear();
		});
	</script>
</body>

</html>
